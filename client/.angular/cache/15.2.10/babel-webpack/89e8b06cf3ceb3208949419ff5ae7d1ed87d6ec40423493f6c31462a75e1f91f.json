{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class RtcService {\n  createPeer(stream) {\n    let peer = new RTCPeerConnection();\n    stream.getTracks().forEach(track => {\n      peer.addTrack(track, stream);\n    });\n    peer.ontrack = event => {\n      event.streams[0].getTracks().forEach(track => {\n        stream.addTrack(track);\n      });\n    };\n    return peer;\n  }\n  static #_ = this.ɵfac = function RtcService_Factory(t) {\n    return new (t || RtcService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: RtcService,\n    factory: RtcService.ɵfac,\n    providedIn: \"root\"\n  });\n}","map":{"version":3,"mappings":";AAGA,OAAM,MAAOA,UAAU;EACZC,UAAU,CAACC,MAAmB;IACjC,IAAIC,IAAI,GAAG,IAAIC,iBAAiB,EAAE;IAClCF,MAAM,CAACG,SAAS,EAAE,CAACC,OAAO,CAAEC,KAAK,IAAI;MACnCJ,IAAI,CAACK,QAAQ,CAACD,KAAK,EAAEL,MAAM,CAAC;IAC9B,CAAC,CAAC;IACFC,IAAI,CAACM,OAAO,GAAIC,KAAK,IAAI;MACvBA,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACN,SAAS,EAAE,CAACC,OAAO,CAAEC,KAAK,IAAI;QAC7CL,MAAM,CAACM,QAAQ,CAACD,KAAK,CAAC;MACxB,CAAC,CAAC;IACJ,CAAC;IACD,OAAOJ,IAAI;EACf;EAAC;qBAZQH,UAAU;EAAA;EAAA;WAAVA,UAAU;IAAAY,SAAVZ,UAAU;IAAAa,YADG;EAAM","names":["RtcService","createPeer","stream","peer","RTCPeerConnection","getTracks","forEach","track","addTrack","ontrack","event","streams","factory","providedIn"],"sourceRoot":"","sources":["D:\\Лабки\\VideoChat\\client\\src\\service\\rtc.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\n\r\n@Injectable({ providedIn: \"root\" })\r\nexport class RtcService {\r\n    public createPeer(stream: MediaStream): RTCPeerConnection {\r\n        let peer = new RTCPeerConnection();\r\n        stream.getTracks().forEach((track) => {\r\n          peer.addTrack(track, stream);\r\n        });\r\n        peer.ontrack = (event) => {\r\n          event.streams[0].getTracks().forEach((track) => {\r\n            stream.addTrack(track);\r\n          });\r\n        };\r\n        return peer;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}