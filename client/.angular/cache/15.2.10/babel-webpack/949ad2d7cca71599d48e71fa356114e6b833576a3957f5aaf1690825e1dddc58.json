{"ast":null,"code":"import { SignalR } from \"./signalr.utils\";\nimport * as i0 from \"@angular/core\";\nexport class ConferenceService {\n  constructor() {\n    this._hubConnection = SignalR.connection;\n  }\n  getParticipants() {\n    return this._hubConnection.invoke(\"GetParticipants\");\n  }\n  listenEvent(event, handler) {\n    this._hubConnection.on(event, handler);\n  }\n  listenNewConnections(handler) {\n    this._hubConnection.on(\"OnNewConnection\", handler);\n  }\n  listenRemoveConnections(handler) {\n    this._hubConnection.on(\"OnRemoveConnection\", handler);\n  }\n  static #_ = this.ɵfac = function ConferenceService_Factory(t) {\n    return new (t || ConferenceService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ConferenceService,\n    factory: ConferenceService.ɵfac,\n    providedIn: \"root\"\n  });\n}","map":{"version":3,"mappings":"AAGA,SAASA,OAAO,QAAQ,iBAAiB;;AAGzC,OAAM,MAAOC,iBAAiB;EAG1BC;IACI,IAAI,CAACC,cAAc,GAAGH,OAAO,CAACI,UAAU;EAC5C;EAEOC,eAAe;IAClB,OAAO,IAAI,CAACF,cAAc,CAACG,MAAM,CAAgB,iBAAiB,CAAC;EACvE;EAEOC,WAAW,CAACC,KAAa,EAAEC,OAAgC;IAC9D,IAAI,CAACN,cAAc,CAACO,EAAE,CAACF,KAAK,EAAEC,OAAO,CAAC;EAC1C;EAEOE,oBAAoB,CAACF,OAA2C;IACnE,IAAI,CAACN,cAAc,CAACO,EAAE,CAAC,iBAAiB,EAAED,OAAO,CAAC;EACtD;EAEOG,uBAAuB,CAACH,OAA2C;IACtE,IAAI,CAACN,cAAc,CAACO,EAAE,CAAC,oBAAoB,EAAED,OAAO,CAAC;EACzD;EAAC;qBArBQR,iBAAiB;EAAA;EAAA;WAAjBA,iBAAiB;IAAAY,SAAjBZ,iBAAiB;IAAAa,YADJ;EAAM","names":["SignalR","ConferenceService","constructor","_hubConnection","connection","getParticipants","invoke","listenEvent","event","handler","on","listenNewConnections","listenRemoveConnections","factory","providedIn"],"sourceRoot":"","sources":["D:\\Лабки\\VideoChat\\client\\src\\service\\conference.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { HubConnection } from \"@microsoft/signalr\";\r\nimport { Participant } from \"src/model/participant\";\r\nimport { SignalR } from \"./signalr.utils\";\r\n\r\n@Injectable({ providedIn: \"root\" })\r\nexport class ConferenceService {\r\n    private readonly _hubConnection: HubConnection;\r\n\r\n    constructor() {\r\n        this._hubConnection = SignalR.connection;\r\n    }\r\n\r\n    public getParticipants() : Promise<Participant[]> {\r\n        return this._hubConnection.invoke<Participant[]>(\"GetParticipants\");\r\n    }\r\n\r\n    public listenEvent(event: string, handler: (...obj: any[]) => void) {\r\n        this._hubConnection.on(event, handler);\r\n    }\r\n\r\n    public listenNewConnections(handler: (participant: Participant) => void) {\r\n        this._hubConnection.on(\"OnNewConnection\", handler);\r\n    }\r\n\r\n    public listenRemoveConnections(handler: (participant: Participant) => void) {\r\n        this._hubConnection.on(\"OnRemoveConnection\", handler);\r\n    }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}