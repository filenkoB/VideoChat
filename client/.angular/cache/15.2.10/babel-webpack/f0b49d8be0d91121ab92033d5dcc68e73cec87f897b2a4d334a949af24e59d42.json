{"ast":null,"code":"import _asyncToGenerator from \"D:/\\u041B\\u0430\\u0431\\u043A\\u0438/VideoChat/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Subscription } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/service/rtc.service\";\nimport * as i2 from \"src/service/conference.service\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = [\"video\"];\nfunction ParticipantComponent__svg_svg_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 7)(1, \"style\");\n    i0.ɵɵtext(2, \"svg{fill:#ffffff}\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"path\", 8);\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ParticipantComponent {\n  constructor(_rtcService, _conferenceService) {\n    this._rtcService = _rtcService;\n    this._conferenceService = _conferenceService;\n    this._subscriptions = new Subscription();\n    this.peer = new RTCPeerConnection();\n    this.isMicroActive = false;\n  }\n  createOffer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.peer.onicecandidate = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (event) {\n          if (event.candidate) {\n            _this._conferenceService.sendOffer(_this.participant.id, _this.peer.localDescription);\n          }\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      const offer = yield _this.peer.createOffer();\n      yield _this.peer.setLocalDescription(offer);\n    })();\n  }\n  _initOnAnswer() {\n    var _this2 = this;\n    this._conferenceService.onAnswer$.subscribe( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (answerEvent) {\n        if (answerEvent.userId !== _this2.participant.id) {\n          return;\n        }\n        let answer = JSON.parse(answerEvent.answerJson);\n        console.log('Add answer triggerd');\n        console.log('answer:', answer);\n        if (!_this2.peer.currentRemoteDescription) {\n          _this2.peer.setRemoteDescription(answer);\n        }\n      });\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }\n  _initLocalUser() {\n    var _this3 = this;\n    this._conferenceService.onOffer$.subscribe( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator(function* (offerEvent) {\n        let offer = JSON.parse(offerEvent.offerJson);\n        _this3.peer.onicecandidate = /*#__PURE__*/function () {\n          var _ref4 = _asyncToGenerator(function* (event) {\n            if (event.candidate) {\n              _this3._conferenceService.sendAnswer(offerEvent.userId, _this3.peer.localDescription);\n            }\n          });\n          return function (_x4) {\n            return _ref4.apply(this, arguments);\n          };\n        }();\n        yield _this3.peer.setRemoteDescription(offer);\n        let answer = yield _this3.peer.createAnswer();\n        yield _this3.peer.setLocalDescription(answer);\n      });\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n    this._initOnAnswer();\n  }\n  _initRemotePeer() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      _this4.peer.ontrack = event => {\n        event.streams[0].getTracks().forEach(track => {\n          _this4.participant.stream.addTrack(track);\n        });\n      };\n      _this4._initOnAnswer();\n    })();\n  }\n  ngOnInit() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      _this5.peer = _this5._rtcService.createPeer(_this5.participant.stream);\n      if (_this5.localUserId === _this5.participant.id) {\n        _this5._initLocalUser();\n        return;\n      }\n      yield _this5._initRemotePeer();\n    })();\n  }\n  ngOnDestroy() {\n    this.peer?.close();\n    this._subscriptions.unsubscribe();\n  }\n  static #_ = this.ɵfac = function ParticipantComponent_Factory(t) {\n    return new (t || ParticipantComponent)(i0.ɵɵdirectiveInject(i1.RtcService), i0.ɵɵdirectiveInject(i2.ConferenceService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ParticipantComponent,\n    selectors: [[\"app-participant\"]],\n    viewQuery: function ParticipantComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.videoEl = _t.first);\n      }\n    },\n    inputs: {\n      participant: \"participant\",\n      localUserId: [\"local-user-id\", \"localUserId\"]\n    },\n    decls: 9,\n    vars: 3,\n    consts: [[1, \"video-container\"], [\"autoplay\", \"true\", 3, \"srcObject\"], [\"video\", \"\"], [1, \"micro-icon\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"height\", \"1em\", \"viewBox\", \"0 0 640 512\", 4, \"ngIf\"], [1, \"participant-name\"], [3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"height\", \"1em\", \"viewBox\", \"0 0 640 512\"], [\"d\", \"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L472.1 344.7c15.2-26 23.9-56.3 23.9-88.7V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 21.2-5.1 41.1-14.2 58.7L416 300.8V96c0-53-43-96-96-96s-96 43-96 96v54.3L38.8 5.1zM344 430.4c20.4-2.8 39.7-9.1 57.3-18.2l-43.1-33.9C346.1 382 333.3 384 320 384c-70.7 0-128-57.3-128-128v-8.7L144.7 210c-.5 1.9-.7 3.9-.7 6v40c0 89.1 66.2 162.7 152 174.4V464H248c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H344V430.4z\"]],\n    template: function ParticipantComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"video\", 1, 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵtemplate(4, ParticipantComponent__svg_svg_4_Template, 4, 0, \"svg\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"span\", 5);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function ParticipantComponent_Template_button_click_7_listener() {\n          return ctx.createOffer();\n        });\n        i0.ɵɵtext(8, \"Create offer\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"srcObject\", ctx.participant.stream);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isMicroActive);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.participant.name);\n      }\n    },\n    dependencies: [i3.NgIf],\n    styles: [\".video-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: flex;\\n  height: 100%;\\n  justify-content: center;\\n}\\n.video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n  z-index: 100;\\n}\\n.video-container[_ngcontent-%COMP%]   .micro-icon[_ngcontent-%COMP%] {\\n  position: absolute;\\n  right: 15px;\\n  top: 15px;\\n  font-size: 1.5em;\\n  z-index: 10;\\n}\\n.video-container[_ngcontent-%COMP%]   .participant-name[_ngcontent-%COMP%] {\\n  align-self: center;\\n  font-size: 130%;\\n  color: #fff;\\n  font-weight: 600;\\n  text-shadow: 1px 1px 5px #000;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFydGljaXBhbnQvcGFydGljaXBhbnQuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi8uLi8lRDAlOUIlRDAlQjAlRDAlQjElRDAlQkElRDAlQjgvVmlkZW9DaGF0L2NsaWVudC9zcmMvYXBwL3BhcnRpY2lwYW50L3BhcnRpY2lwYW50LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0FDQ0o7QURDSTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7QUNDUjtBREVJO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsU0FBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtBQ0FSO0FER0k7RUFDSSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSw2QkFBQTtBQ0RSIiwic291cmNlc0NvbnRlbnQiOlsiLnZpZGVvLWNvbnRhaW5lciB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblxyXG4gICAgdmlkZW8ge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICAgICAgei1pbmRleDogMTAwO1xyXG4gICAgfVxyXG5cclxuICAgIC5taWNyby1pY29uIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgcmlnaHQ6IDE1cHg7XHJcbiAgICAgICAgdG9wOiAxNXB4O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMS41ZW07XHJcbiAgICAgICAgei1pbmRleDogMTA7XHJcbiAgICB9XHJcblxyXG4gICAgLnBhcnRpY2lwYW50LW5hbWUge1xyXG4gICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcclxuICAgICAgICBmb250LXNpemU6IDEzMCU7XHJcbiAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICB0ZXh0LXNoYWRvdzogMXB4IDFweCA1cHggIzAwMDtcclxuICAgIH1cclxufSIsIi52aWRlby1jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGhlaWdodDogMTAwJTtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG4udmlkZW8tY29udGFpbmVyIHZpZGVvIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgei1pbmRleDogMTAwO1xufVxuLnZpZGVvLWNvbnRhaW5lciAubWljcm8taWNvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDE1cHg7XG4gIHRvcDogMTVweDtcbiAgZm9udC1zaXplOiAxLjVlbTtcbiAgei1pbmRleDogMTA7XG59XG4udmlkZW8tY29udGFpbmVyIC5wYXJ0aWNpcGFudC1uYW1lIHtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBmb250LXNpemU6IDEzMCU7XG4gIGNvbG9yOiAjZmZmO1xuICBmb250LXdlaWdodDogNjAwO1xuICB0ZXh0LXNoYWRvdzogMXB4IDFweCA1cHggIzAwMDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":";AACA,SAAkBA,YAAY,QAAQ,MAAM;;;;;;;;ICEpCC,mBAAkG;IAAlGA,8BAAkG;IAAOA,iCAAiB;IAAAA,iBAAQ;IAAAA,0BAAuiB;IAAAA,iBAAM;;;ADUvrB,OAAM,MAAOC,oBAAoB;EAW/BC,YAA6BC,WAAuB,EAAmBC,kBAAqC;IAA/E,gBAAW,GAAXD,WAAW;IAA+B,uBAAkB,GAAlBC,kBAAkB;IANjF,mBAAc,GAAG,IAAIL,YAAY,EAAE;IAEpC,SAAI,GAAsB,IAAIM,iBAAiB,EAAE;IAEjD,kBAAa,GAAG,KAAK;EAG5B;EAEaC,WAAW;IAAA;IAAA;MACtB,KAAI,CAACC,IAAI,CAACC,cAAc;QAAA,6BAAG,WAAOC,KAAK,EAAI;UACzC,IAAGA,KAAK,CAACC,SAAS,EAAC;YACjB,KAAI,CAACN,kBAAkB,CAACO,SAAS,CAAC,KAAI,CAACC,WAAW,CAACC,EAAE,EAAE,KAAI,CAACN,IAAI,CAACO,gBAAiB,CAAC;;QAEvF,CAAC;QAAA;UAAA;QAAA;MAAA;MACD,MAAMC,KAAK,SAAS,KAAI,CAACR,IAAI,CAACD,WAAW,EAAE;MAC3C,MAAM,KAAI,CAACC,IAAI,CAACS,mBAAmB,CAACD,KAAK,CAAC;IAAC;EAC7C;EAEQE,aAAa;IAAA;IACnB,IAAI,CAACb,kBAAkB,CAACc,SAAS,CAACC,SAAS;MAAA,8BAAC,WAAOC,WAAwB,EAAI;QAC7E,IAAIA,WAAW,CAACC,MAAM,KAAK,MAAI,CAACT,WAAW,CAACC,EAAE,EAAE;UAC9C;;QAEF,IAAIS,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACJ,WAAW,CAACK,UAAU,CAA8B;QAC5EC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;QAClCD,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEL,MAAM,CAAC;QAC9B,IAAI,CAAC,MAAI,CAACf,IAAI,CAACqB,wBAAwB,EAAC;UACtC,MAAI,CAACrB,IAAI,CAACsB,oBAAoB,CAACP,MAAM,CAAC;;MAE1C,CAAC;MAAA;QAAA;MAAA;IAAA,IAAC;EACJ;EAEQQ,cAAc;IAAA;IACpB,IAAI,CAAC1B,kBAAkB,CAAC2B,QAAQ,CAACZ,SAAS;MAAA,8BAAC,WAAOa,UAAsB,EAAI;QAC1E,IAAIjB,KAAK,GAAGQ,IAAI,CAACC,KAAK,CAACQ,UAAU,CAACC,SAAS,CAA8B;QACzE,MAAI,CAAC1B,IAAI,CAACC,cAAc;UAAA,8BAAG,WAAOC,KAAK,EAAI;YACzC,IAAGA,KAAK,CAACC,SAAS,EAAC;cACjB,MAAI,CAACN,kBAAkB,CAAC8B,UAAU,CAACF,UAAU,CAACX,MAAM,EAAE,MAAI,CAACd,IAAI,CAACO,gBAAiB,CAAC;;UAEtF,CAAC;UAAA;YAAA;UAAA;QAAA;QACD,MAAM,MAAI,CAACP,IAAI,CAACsB,oBAAoB,CAACd,KAAK,CAAC;QAC3C,IAAIO,MAAM,SAAS,MAAI,CAACf,IAAK,CAAC4B,YAAY,EAAE;QAC5C,MAAM,MAAI,CAAC5B,IAAI,CAACS,mBAAmB,CAACM,MAAM,CAAC;MAC7C,CAAC;MAAA;QAAA;MAAA;IAAA,IAAC;IACF,IAAI,CAACL,aAAa,EAAE;EACtB;EAEcmB,eAAe;IAAA;IAAA;MAC3B,MAAI,CAAC7B,IAAK,CAAC8B,OAAO,GAAI5B,KAAK,IAAI;QAC7BA,KAAK,CAAC6B,OAAO,CAAC,CAAC,CAAC,CAACC,SAAS,EAAE,CAACC,OAAO,CAAEC,KAAK,IAAI;UAC7C,MAAI,CAAC7B,WAAW,CAAC8B,MAAM,CAACC,QAAQ,CAACF,KAAK,CAAC;QACzC,CAAC,CAAC;MACJ,CAAC;MACD,MAAI,CAACxB,aAAa,EAAE;IAAC;EACvB;EAEa2B,QAAQ;IAAA;IAAA;MACnB,MAAI,CAACrC,IAAI,GAAG,MAAI,CAACJ,WAAW,CAAC0C,UAAU,CAAC,MAAI,CAACjC,WAAW,CAAC8B,MAAM,CAAC;MAChE,IAAI,MAAI,CAACI,WAAW,KAAK,MAAI,CAAClC,WAAW,CAACC,EAAE,EAAE;QAC5C,MAAI,CAACiB,cAAc,EAAE;QACrB;;MAEF,MAAM,MAAI,CAACM,eAAe,EAAE;IAAC;EAC/B;EAEOW,WAAW;IAChB,IAAI,CAACxC,IAAI,EAAEyC,KAAK,EAAE;IAClB,IAAI,CAACC,cAAc,CAACC,WAAW,EAAE;EACnC;EAAC;qBA1EUjD,oBAAoB;EAAA;EAAA;UAApBA,oBAAoB;IAAAkD;IAAAC;MAAA;;;;;;;;;;;;;;;;;QCbjCpD,8BAA6B;QACzBA,8BAAuE;QACvEA,8BAAwB;QACpBA,0EAA+qB;QACnrBA,iBAAM;QACNA,+BAA+B;QAAAA,YAAoB;QAAAA,iBAAO;QAE9DA,iCAAgC;QAAxBA;UAAA,OAASqD,iBAAa;QAAA,EAAC;QAACrD,4BAAY;QAAAA,iBAAS;;;QAN1CA,eAAgC;QAAhCA,kDAAgC;QAE7BA,eAAoB;QAApBA,yCAAoB;QAECA,eAAoB;QAApBA,0CAAoB","names":["Subscription","i0","ParticipantComponent","constructor","_rtcService","_conferenceService","RTCPeerConnection","createOffer","peer","onicecandidate","event","candidate","sendOffer","participant","id","localDescription","offer","setLocalDescription","_initOnAnswer","onAnswer$","subscribe","answerEvent","userId","answer","JSON","parse","answerJson","console","log","currentRemoteDescription","setRemoteDescription","_initLocalUser","onOffer$","offerEvent","offerJson","sendAnswer","createAnswer","_initRemotePeer","ontrack","streams","getTracks","forEach","track","stream","addTrack","ngOnInit","createPeer","localUserId","ngOnDestroy","close","_subscriptions","unsubscribe","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["D:\\Лабки\\VideoChat\\client\\src\\app\\participant\\participant.component.ts","D:\\Лабки\\VideoChat\\client\\src\\app\\participant\\participant.component.html"],"sourcesContent":["import { Component, ElementRef, Input, ViewChild, OnInit, OnDestroy, Output } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { AnswerEvent } from 'src/model/answer-event';\nimport { OfferEvent } from 'src/model/offer-event';\nimport { RtcParticipant } from 'src/model/rtc-participant';\nimport { ConferenceService } from 'src/service/conference.service';\nimport { RtcService } from 'src/service/rtc.service';\n\n@Component({\n  selector: 'app-participant',\n  templateUrl: './participant.component.html',\n  styleUrls: ['./participant.component.scss']\n})\nexport class ParticipantComponent implements OnInit, OnDestroy {\n  @ViewChild(\"video\") public videoEl! : ElementRef;\n  @Input() public participant!: RtcParticipant;\n  @Input(\"local-user-id\") public localUserId!: string;\n\n  private _subscriptions = new Subscription();\n\n  public peer: RTCPeerConnection = new RTCPeerConnection();\n\n  public isMicroActive = false;\n\n  constructor(private readonly _rtcService: RtcService, private readonly _conferenceService: ConferenceService) {\n  }\n\n  public async createOffer() {\n    this.peer.onicecandidate = async (event) => {\n      if(event.candidate){\n        this._conferenceService.sendOffer(this.participant.id, this.peer.localDescription!);\n      }\n    };\n    const offer = await this.peer.createOffer();\n    await this.peer.setLocalDescription(offer);\n  }\n\n  private _initOnAnswer() {\n    this._conferenceService.onAnswer$.subscribe(async (answerEvent: AnswerEvent) => {\n      if (answerEvent.userId !== this.participant.id) {\n        return;\n      }\n      let answer = JSON.parse(answerEvent.answerJson) as RTCSessionDescriptionInit;\n      console.log('Add answer triggerd')\n      console.log('answer:', answer)\n      if (!this.peer.currentRemoteDescription){\n        this.peer.setRemoteDescription(answer);\n      }\n    });\n  }\n\n  private _initLocalUser() {\n    this._conferenceService.onOffer$.subscribe(async (offerEvent: OfferEvent) => {\n      let offer = JSON.parse(offerEvent.offerJson) as RTCSessionDescriptionInit;\n      this.peer.onicecandidate = async (event) => {\n        if(event.candidate){\n          this._conferenceService.sendAnswer(offerEvent.userId, this.peer.localDescription!);\n        }\n      };\n      await this.peer.setRemoteDescription(offer);\n      let answer = await this.peer!.createAnswer();\n      await this.peer.setLocalDescription(answer); \n    });\n    this._initOnAnswer();\n  }\n\n  private async _initRemotePeer() {\n    this.peer!.ontrack = (event) => {\n      event.streams[0].getTracks().forEach((track) => {\n        this.participant.stream.addTrack(track);\n      });\n    };\n    this._initOnAnswer();\n  }\n\n  public async ngOnInit() {\n    this.peer = this._rtcService.createPeer(this.participant.stream);\n    if (this.localUserId === this.participant.id) {\n      this._initLocalUser();\n      return;\n    } \n    await this._initRemotePeer();\n  }\n\n  public ngOnDestroy(): void {\n    this.peer?.close();\n    this._subscriptions.unsubscribe();\n  }\n}\n","<div class=\"video-container\">\n    <video [srcObject]=\"participant.stream\" autoplay=\"true\" #video></video>\n    <div class=\"micro-icon\">\n        <svg *ngIf=\"!isMicroActive\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 640 512\"><style>svg{fill:#ffffff}</style><path d=\"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L472.1 344.7c15.2-26 23.9-56.3 23.9-88.7V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 21.2-5.1 41.1-14.2 58.7L416 300.8V96c0-53-43-96-96-96s-96 43-96 96v54.3L38.8 5.1zM344 430.4c20.4-2.8 39.7-9.1 57.3-18.2l-43.1-33.9C346.1 382 333.3 384 320 384c-70.7 0-128-57.3-128-128v-8.7L144.7 210c-.5 1.9-.7 3.9-.7 6v40c0 89.1 66.2 162.7 152 174.4V464H248c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H344V430.4z\"/></svg>\n    </div>\n    <span class=\"participant-name\">{{participant.name}}</span>\n</div>\n<button (click)=\"createOffer()\">Create offer</button>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}